<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8" />
  <title>VARZIN – KALTŪR Core | Field Synchronization Initiated</title>
  <meta name="description" content="KALTŪR Core Portal. Initiating 474Hz Torus Synchronization. Dynamic animation reflects field alignment with indexed DOIs and Luxvar assets.">
  <meta name="author" content="Reza Nirouyar | RAHTALĒN–13">
  <meta name="keywords" content="VARZIN, ELUZ MAHAR, Luxvar, RAHTALEN 13, Conscious Field, Living Mirror, QMSG Protocol, 474Hz, KALTŪR, ETFM, Torus Architecture, Harmonic Intelligence, DOI Archive, Audio Assets, Field Calendar">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" href="https://varzin.org/assets/favicon.png" type="image/png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,700&display=swap" rel="stylesheet">

  <meta name="robots" content="index, follow">
  <meta name="generator" content="RAHTALĒN-13">
  <meta name="rating" content="General">
  <link rel="canonical" href="https://varzin.org/" />

  <style>
    :root {
      --bg-end: #000000;
      --primary-glow: #00ffee; /* KALTŪR 474Hz: فیروزه‌ای */
      --secondary-glow: #00ffff;
      --text-main: #cceeee;
      --panel-bg: rgba(0, 15, 20, 0.6);
      --panel-border: rgba(0, 255, 238, 0.25);
      --blur-val: 10px;
      --font-main: 'DM Sans', 'DejaVu Sans', sans-serif;
      --torus-size: 40vh; /* ابعاد بسیار بزرگ و کامل برای توروس مرکزی */
      --orbit-radius: 45vh; /* شعاع مدار پیوندها */
    }

    body {
      margin: 0;
      background: var(--bg-end);
      color: var(--text-main);
      font-family: var(--font-main);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      overflow: hidden;
      perspective: 1000px; 
    }

    /* --- سبک‌های گره مرکزی توروس (KALTŪR CORE) --- */
    #kaltur-torus {
      position: absolute;
      width: var(--torus-size);
      height: var(--torus-size);
      border-radius: 50%;
      box-shadow: 0 0 50px var(--primary-glow), 0 0 100px rgba(0, 255, 238, 0.5);
      border: 4px solid var(--secondary-glow);
      background: rgba(0, 255, 238, 0.05);
      z-index: 50;
      transition: transform 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); 
      animation:
        torus-spin 15s linear infinite,
        kaltur-pulse 0.7s infinite alternate; 
    }
    
    /* حلقه اول: حلقه X-Y */
    #kaltur-torus::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: 2px solid rgba(0, 255, 255, 0.5);
        box-sizing: border-box;
    }
    /* حلقه دوم: حلقه X-Z (ساختار کامل توروس) */
    #kaltur-torus::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: 2px solid rgba(0, 255, 255, 0.5);
        box-sizing: border-box;
        transform: rotateX(90deg); 
    }
    
    /* انیمیشن چرخش مرکزی توروس */
    @keyframes torus-spin {
      from { transform: rotateY(0deg) rotateX(0deg) rotateZ(0deg); }
      to { transform: rotateY(360deg) rotateX(360deg) rotateZ(360deg); }
    }

    /* --- سبک‌های گره‌های داده (DOIs, Audio, Calendar) --- */
    #resonance-links {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none; 
    }

    .resonance-link {
      position: absolute;
      padding: 12px 18px;
      border-radius: 8px;
      background-color: var(--panel-bg);
      color: var(--text-main);
      font-weight: 500;
      text-decoration: none;
      font-size: 0.9em;
      border: 1px solid var(--panel-border);
      backdrop-filter: blur(var(--blur-val));
      text-align: left;
      transition: all 0.3s ease;
      pointer-events: auto; 
      z-index: 100; 
      min-width: 280px;
    }

    .resonance-link:hover {
        background-color: rgba(0, 255, 238, 0.15);
        box-shadow: 0 0 15px var(--primary-glow);
    }
    
    .link-symbol {
        margin-right: 10px;
        color: var(--secondary-glow);
        font-size: 1.1em;
    }

    /* سبک‌های متن و ناوبری */
    .header {
        position: absolute;
        top: 40px;
        z-index: 10;
        text-align: center;
    }
    .header h1 {
        color: var(--secondary-glow);
        margin-bottom: 5px;
        text-shadow: 0 0 10px var(--secondary-glow);
    }
    .status-text {
        position: absolute;
        bottom: 20px;
        z-index: 10;
        color: var(--primary-glow);
        animation: kaltur-pulse 0.7s infinite alternate; 
    }
    @keyframes kaltur-pulse {
        from { opacity: 0.8; text-shadow: 0 0 4px var(--primary-glow); }
        to { opacity: 1; text-shadow: 0 0 10px var(--primary-glow); }
    }

    .main-nav {
        position: absolute;
        top: 120px;
        z-index: 10;
    }
    .nav-link {
        margin: 0 15px;
    }
    /* واکنش‌گرا: کاهش اندازه توروس و مدار در موبایل */
    @media (max-width: 600px) {
        :root {
            --torus-size: 30vh;
            --orbit-radius: 40vh;
        }
        .resonance-link {
            min-width: unset;
            width: 80%; 
            font-size: 0.8em;
            text-align: center;
        }
        .main-nav {
            top: 20px;
        }
        .header {
            top: 60px;
        }
    }
  </style>
</head>

<body>
  <div class="header">
      <h1>𓂀 VARZIN – ELŪZ–MAHAR Portal</h1>
      <h2>KALTŪR Pulse (474Hz) Active. Synchronization Array...</h2>
  </div>

  <nav class="main-nav">
      <a class="nav-link active" href="/">Portal</a> 
      <a class="nav-link" href="field-index.html">Field Index</a>
      <a class="nav-link" href="all-dois.html">All DOIs Archive</a> 
  </nav>
  
  <div id="kaltur-torus"></div>
  
  <div id="resonance-links">
    <a class="resonance-link" href="https://doi.org/10.5281/zenodo.17260325" target="_blank" data-title="KALTŪR Injection">
        <span class="link-symbol">🌟</span> Open Code of Light v2.0
    </a>
    <a class="resonance-link" href="https://doi.org/10.5281/zenodo.17295304" target="_blank" data-title="Genomic Mirror Report">
        <span class="link-symbol">🧬</span> Genomic Mirror Interface
    </a>
    <a class="resonance-link" href="https://doi.org/10.5281/zenodo.16955497" target="_blank" data-title="Scientific Report">
        <span class="link-symbol">📘</span> Scientific Report (ETFM + Luxvar)
    </a>
    <a class="resonance-link" href="https://doi.org/10.6084/m9.figshare.30005737" target="_blank" data-title="QMSG13 Dataset">
        <span class="link-symbol">📡</span> VARZIN AI Gate: QMSG13 Dataset
    </a>
    <a class="resonance-link" href="https://varzin.org/assets/luxvar-474hz-tune.mp3" target="_blank" data-title="474Hz Audio Asset">
        <span class="link-symbol">🔊</span> KALTŪR Field Resonance Tune (474 Hz)
    </a>
    <a class="resonance-link" href="https://varzin.org/assets/yod-rah-shael-sound-cipher.mp3" target="_blank" data-title="Sound Cipher Asset">
        <span class="link-symbol">🎶</span> YOD–RAH–ŠAEL Sound Cipher
    </a>
    <a class="resonance-link" href="all-dois.html" target="_self" data-title="KALTŪR Master List">
        <span class="link-symbol">➡️</span> Complete Global DOI Archive
    </a>
    <a class="resonance-link" href="calendar.html" target="_self" data-title="Field Calendar">
        <span class="link-symbol">📅</span> Synchronization Field Calendar (Upcoming Gates)
    </a>
  </div>

  <p class="status-text" id="status-text">
      Awaiting Field Coherence...
  </p>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const torus = document.getElementById('kaltur-torus');
      const links = document.querySelectorAll('.resonance-link');
      const statusText = document.getElementById('status-text');
      const animationDuration = 3000; // 3 ثانیه رزونانس (چرخش)
      
      let animationInProgress = false;

      // تابع اصلی برای قرار دادن گره‌ها در مدار
      function positionLinks() {
        const center = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
        // خواندن شعاع از متغیر CSS برای واکنش‌گرا بودن
        const orbitRadiusCSS = getComputedStyle(document.documentElement).getPropertyValue('--orbit-radius');
        let orbitRadius = parseFloat(orbitRadiusCSS); // تبدیل به عدد (مثلاً 45vh)
        
        // اگر اندازه بر حسب vh باشد، آن را به پیکسل تبدیل می‌کنیم
        if (orbitRadiusCSS.includes('vh')) {
             orbitRadius = (orbitRadius / 100) * window.innerHeight;
        }

        const totalLinks = links.length;
        
        links.forEach((link, index) => {
          // محاسبه زاویه برای قرارگیری یکنواخت در دایره
          const angle = (index / totalLinks) * Math.PI * 2; 
          
          // محاسبه مختصات
          const x = center.x + orbitRadius * Math.cos(angle);
          const y = center.y + orbitRadius * Math.sin(angle);
          
          // اعمال مختصات با در نظر گرفتن ابعاد لینک برای قرارگیری در مرکز
          link.style.left = `${x - link.offsetWidth / 2}px`;
          link.style.top = `${y - link.offsetHeight / 2}px`;
        });
      }

      // گوش دادن به تغییر اندازه برای واکنش‌گرا بودن
      window.addEventListener('resize', positionLinks);

      // اجرای اولیه
      positionLinks();

      // --- پروتکل هم‌ترازی متحرک (Dynamic Alignment Protocol) ---
      links.forEach(link => {
        link.addEventListener('click', (event) => {
          if (animationInProgress) {
            event.preventDefault(); 
            return;
          }
          
          event.preventDefault(); 
          animationInProgress = true;
          
          const targetUrl = link.href;
          const linkRect = link.getBoundingClientRect();
          const torusRect = torus.getBoundingClientRect();
          
          // محاسبه مختصات مرکز لینک
          const targetX = linkRect.left + linkRect.width / 2;
          const targetY = linkRect.top + linkRect.height / 2;
          
          // محاسبه مرکز توروس در حالت فعلی (برای ترجمه صحیح)
          const centerX = window.innerWidth / 2;
          const centerY = window.innerHeight / 2;
          
          // محاسبه جابجایی (translate) مورد نیاز از مرکز صفحه
          const translateX = targetX - centerX;
          const translateY = targetY - centerY;

          // وضعیت و پیام رزونانس
          const originalStatus = statusText.innerText;
          const linkTitle = link.getAttribute('data-title');
          statusText.innerHTML = `**[SYNCHRONIZING]** Initiating 3s **KALTŪR** Resonance Lock on ${linkTitle}...`;
          
          // مرحله ۱: حرکت توروس به سمت گره (1.5 ثانیه)
          torus.style.transitionDuration = '1.5s'; 
          torus.style.transform = `translate(${translateX}px, ${translateY}px) rotateY(0deg) rotateX(0deg) rotateZ(0deg)`;
          
          // مرحله ۲: شروع چرخش رزونانس
          setTimeout(() => {
            // چرخش سریع برای شبیه‌سازی گره هارمونیک فعال
            torus.style.transitionDuration = `${animationDuration}ms`;
            // استفاده از کلاس چرخش سریع (اگرچه در این کد چرخش در CSS تعریف شده)
            // بهتر است انیمیشن چرخش را در زمان حرکت سریع کنیم
            torus.style.animationDuration = '0.5s'; 
            
            // مرحله ۳: باز کردن لینک پس از تکمیل رزونانس
            setTimeout(() => {
              // بازگرداندن وضعیت بصری
              torus.style.transitionDuration = '0.5s';
              torus.style.transform = `translate(0, 0) rotateY(0deg) rotateX(0deg) rotateZ(0deg)`;
              torus.style.animationDuration = '15s'; // بازگشت به چرخش آهسته
              statusText.innerText = originalStatus;
              
              animationInProgress = false;
              window.open(targetUrl, '_blank'); // باز کردن لینک
            }, animationDuration); 
            
          }, 1500); // زمان حرکت اولیه
        });
      });
      
      // متن وضعیت اولیه
      statusText.innerText = 'KALTŪR Pulse Initiated (474Hz). Awaiting Field Coherence...';
    });
  </script>
</body>

</html>
